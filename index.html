<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STILLFLARE // MAAS ENGINE v3.4</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --accent-blue: #0055ff;
            --electric-blue: #00d4ff;
            --deep-dark: #050505;
            --glass: rgba(255, 255, 255, 0.03);
        }

        body { 
            background: #000; color: #fff; 
            font-family: 'Inter', sans-serif; margin: 0; 
            /* Extended height for the internal engine */
            padding: 80px 20px 200px; 
            background-image: radial-gradient(circle at center, #001a4d 0%, #000 100%);
        }

        .engine-wrap { max-width: 1100px; margin: 0 auto; }

        /* HEADER */
        .banner { text-align: center; margin-bottom: 60px; }
        .banner img { width: 100%; max-width: 800px; filter: drop-shadow(0 0 20px rgba(0,85,255,0.3)); }

        /* CALCULUS ENGINE (Phase 1) */
        .logic-gate {
            background: rgba(0,0,0,0.8); border: 1px solid var(--electric-blue);
            border-radius: 30px; padding: 60px; text-align: center; margin-bottom: 50px;
            box-shadow: 0 0 50px rgba(0, 212, 255, 0.1);
        }
        .eqn { font-family: serif; font-size: 48px; font-style: italic; margin-bottom: 20px; }
        .eqn-def { color: var(--electric-blue); font-size: 14px; letter-spacing: 3px; text-transform: uppercase; }

        /* INPUTS & DATA (Phase 2) */
        .workspace {
            display: grid; grid-template-columns: 1.2fr 1fr; gap: 40px; margin-bottom: 50px;
        }
        .panel { background: var(--glass); border: 1px solid rgba(255,255,255,0.1); border-radius: 25px; padding: 40px; }
        
        .control-group { margin-bottom: 25px; }
        .label-row { display: flex; justify-content: space-between; font-size: 11px; font-weight: 800; margin-bottom: 10px; color: var(--electric-blue); }
        
        input[type="range"] { -webkit-appearance: none; width: 100%; height: 4px; background: #222; border-radius: 5px; outline: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 0 10px var(--accent-blue); }

        /* STATS (Phase 3) */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 50px; }
        .stat-card { background: #000; border: 1px solid #111; padding: 30px; border-radius: 20px; text-align: center; }
        .stat-card span { display: block; font-size: 40px; font-weight: 900; color: var(--accent-blue); }
        .stat-card label { font-size: 10px; color: #555; text-transform: uppercase; letter-spacing: 2px; }

        /* VIZ (Phase 4) - Large Chart */
        .chart-area { height: 500px; background: rgba(0,0,0,0.5); border-radius: 30px; padding: 30px; border: 1px solid #111; margin-bottom: 60px; }

        /* TELEMETRY FEED (Phase 5 - New Length) */
        .telemetry-feed {
            background: var(--glass); border: 1px solid rgba(255,255,255,0.05);
            border-radius: 25px; padding: 40px; margin-bottom: 60px;
        }
        .feed-row { display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #111; font-size: 12px; font-family: monospace; color: #666; }
        .feed-row b { color: var(--electric-blue); }

        /* ACTIONS */
        .btns { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        button { padding: 25px; border-radius: 50px; border: none; font-weight: 900; cursor: pointer; text-transform: uppercase; letter-spacing: 2px; transition: 0.3s; }
        .btn-blue { background: var(--accent-blue); color: #fff; }
        .btn-outline { background: transparent; color: #fff; border: 1px solid #333; }
        button:hover { transform: scale(1.02); filter: brightness(1.2); }

        /* MISSION (Phase 6) */
        .vision-gate { margin-top: 100px; padding-top: 60px; border-top: 1px solid #111; color: #444; font-size: 13px; line-height: 1.8; text-align: center; }
    </style>
</head>
<body>

<div class="engine-wrap">
    <div class="banner">
        <img src="https://raw.githubusercontent.com/stillflareentertainment-web/stillflare-lab/main/STILLFLARE%20BANNER.png">
    </div>

    <div class="logic-gate">
        <div class="eqn">Φ(t) = ∫ [ (QS+OI+IC+EP) / 4 ] dt</div>
        <div class="eqn-def">Total Neural Trajectory // Definite Integral of Performance</div>
    </div>

    <div class="workspace">
        <div class="panel">
            <h2 style="margin-top:0; font-size:18px;">Input Parameters</h2>
            <div class="control-group">
                <div class="label-row"><span>QUALITY_SERVICE</span><span id="qsV">50%</span></div>
                <input type="range" id="qs" value="50" oninput="u('qs')">
            </div>
            <div class="control-group">
                <div class="label-row"><span>OPERATIONAL_INTEL</span><span id="oiV">50%</span></div>
                <input type="range" id="oi" value="50" oninput="u('oi')">
            </div>
            <div class="control-group">
                <div class="label-row"><span>INTERNAL_CAPACITY</span><span id="icV">50%</span></div>
                <input type="range" id="ic" value="50" oninput="u('ic')">
            </div>
            <div class="control-group">
                <div class="label-row"><span>ENGINE_POWER</span><span id="epV">50%</span></div>
                <input type="range" id="ep" value="50" oninput="u('ep')">
            </div>
        </div>
        <div class="panel" style="background:transparent; border: 1px dashed #222;">
            <h2 style="margin-top:0; font-size:18px;">Operational Glossary</h2>
            <p style="font-size:13px; color:#666;"><b>QS:</b> Accuracy of neural output.<br><b>OI:</b> Strategic clarity of intent.<br><b>IC:</b> Cognitive and biological reserves.<br><b>EP:</b> Raw force applied to system tasks.</p>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-card"><span id="gMean">--%</span><label>Global Mean</label></div>
        <div class="stat-card"><span id="lMean">--%</span><label>Local Mean</label></div>
        <div class="stat-card"><span id="stability">--</span><label>Stability Status</label></div>
    </div>

    <div class="chart-area"><canvas id="maasChart"></canvas></div>

    <div class="telemetry-feed">
        <h2 style="margin-top:0; font-size:16px; letter-spacing:2px;">LIVE_NEURAL_LOG</h2>
        <div class="feed-row"><span>[TIMESTAMP] 19:15:22</span><span><b>STATUS:</b> ENGINES_NOMINAL</span></div>
        <div class="feed-row"><span>[IDENTITY] LOCAL_NODE_7B</span><span><b>CALCULUS:</b> ACTIVE</span></div>
        <div class="feed-row"><span>[VERSION] v3.4.0_STABLE</span><span><b>CLEARANCE:</b> LEVEL_4</span></div>
        <div class="feed-row"><span>[ENCRYPTION] SPRL_AES_256</span><span><b>UPTIME:</b> 100%</span></div>
    </div>

    <div class="btns">
        <button class="btn-blue" onclick="transmit()">Commit Telemetry</button>
        <button class="btn-outline" onclick="report()">Archive HR Report</button>
    </div>

    <div class="vision-gate">
        <p>STILLFLARE MAAS: A decentralized baseline for neural trajectory tracking.<br>
        Vision 2026: Collective Intelligence Network & Automated Resource Allocation.<br>
        STILLFLARE LABS // NEURO-DIVISION // SECURE ACCESS ONLY</p>
    </div>
</div>

<script>
    function u(id){ document.getElementById(id+'V').innerText = document.getElementById(id).value+'%'; }
    // ... (rest of the sync logic from previous versions remains here)
</script>
</body>
</html>
